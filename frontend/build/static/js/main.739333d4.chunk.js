(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{231:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){"use strict";a.r(t);var n=a(20),i=a(1),o=a.n(i),c=a(207),r=a(377),s=a(47),l=a.n(s),d=a(361),j=(a(231),a(8)),b=Object(i.createContext)(),u=function(e,t){var a=t.payload;switch(t.type){case"FETCH_USER_DATA":return Object(n.a)(Object(n.a)({},e),{},{isAuthenticated:!0,user:a});case"UPDATE_FOLLOW_DATA":return Object(n.a)(Object(n.a)({},e),{},{Followers:a.Followers,Following:a.Following});case"BOOKMARK_POST":return Object(n.a)(Object(n.a)({},e),{},{Bookmarks:a.Bookmarks});case"LOGOUT":return{isAuthenticated:!0};default:return e}},h=a(0),x=function(e){var t=Object(i.useReducer)(u,{}),a=Object(j.a)(t,2),n=a[0],o=a[1];return Object(h.jsx)(b.Provider,{value:{state:n,dispatch:o},children:e.children})},p=a(13),m=a(23),O=a(103),g=a.n(O),f=a(36),v=a(352),y=Object(i.createContext)();function w(e){var t=e.children,a=Object(v.a)("(prefers-color-scheme: dark)"),n=Object(i.useState)(),o=Object(j.a)(n,2),c=o[0],r=o[1];Object(i.useEffect)((function(){"dark"===localStorage.getItem("theme")?r(!0):"light"===localStorage.getItem("theme")?r(!1):r(a)}),[a]);return Object(h.jsx)(y.Provider,{value:{darkMode:c,handleDarkMode:function(){c?(localStorage.setItem("theme","light"),r(!1)):(localStorage.setItem("theme","dark"),r(!0))}},children:t})}function k(e){return Object(i.useContext)(y)}var S=a(386),C=a(371),T=a(359),I=a(360),P=a(388),B=a(381),N=a(389),_=a(390),F=a(387),L=a(108),E=a(39),R=a(372),z=a(379),M=a(208),W=a(391),D=a(392),A=a(367),U=a(380),G=a(373),H=a(86),q=a(122),J=a.n(q),V=a(79),Y=a.n(V),K=a(154),Q=a.n(K),X=a(155),$=a.n(X),Z=a(190),ee=a.n(Z),te=a(156),ae=a.n(te),ne=a(157),ie=a.n(ne),oe=a(158),ce=a.n(oe),re=a(159),se=a.n(re),le=a(4),de=function(){var e,t=Object(p.l)(),a=Object(H.a)(),n=Object(i.useState)([]),o=Object(j.a)(n,2),c=o[0],r=o[1],s=JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user")),l=k(),d=l.darkMode,b=l.handleDarkMode,u=Object(i.useState)(null),x=Object(j.a)(u,2),O=x[0],v=x[1],y=Boolean(O),w=Object(i.useState)(!1),q=Object(j.a)(w,2),V=q[0],K=q[1],X=function(){te(),K(!0)},Z=function(){K(!1)},te=function(){v(null)},ne=function(){localStorage.clear(),t("/login")},oe="primary-search-account-menu-mobile",re=Object(h.jsxs)(M.a,{anchorEl:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},id:oe,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:y,onClose:te,children:[Object(h.jsxs)(z.a,{onClick:X,children:[Object(h.jsx)(F.a,{size:"large",children:Object(h.jsx)(Y.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)("p",{children:"Search"})]}),Object(h.jsxs)(z.a,{component:m.b,to:"/explore",children:[Object(h.jsx)(F.a,{size:"large",children:Object(h.jsx)(Q.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)("p",{children:"Explore"})]}),Object(h.jsxs)(z.a,{component:m.b,to:"/create",children:[Object(h.jsx)(F.a,{size:"large",children:Object(h.jsx)($.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)("p",{children:"Add Post"})]}),Object(h.jsxs)(z.a,{component:m.b,to:"#",children:[Object(h.jsx)(F.a,{size:"large",children:Object(h.jsx)(R.a,{badgeContent:4,color:"secondary",style:{color:"rgba(0, 0, 0, 0.54)"},children:Object(h.jsx)(ae.a,{})})}),Object(h.jsx)("p",{children:"Messages"})]}),Object(h.jsxs)(z.a,{component:m.b,to:"#",children:[Object(h.jsx)(F.a,{size:"large",children:Object(h.jsx)(R.a,{badgeContent:6,color:"secondary",children:Object(h.jsx)(ie.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})})}),Object(h.jsx)("p",{children:"Notifications"})]}),Object(h.jsxs)(z.a,{component:m.b,to:"/profile",children:[Object(h.jsx)(F.a,{size:"large",children:Object(h.jsx)(ce.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)("p",{children:"Profile"})]}),Object(h.jsxs)(z.a,{onClick:ne,children:[Object(h.jsx)(F.a,{size:"large",children:Object(h.jsx)(se.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)("p",{children:"LogOut"})]})]}),de=Object(h.jsxs)(U.a,{sx:function(){return{top:"0%",left:"30%",border:"1px solid rgba(0, 0, 0, 0.015)",position:"absolute",width:400,backgroundColor:d?"rgba(225, 228, 230, 1)":a.palette.common.white,boxShadow:a.shadows[4],padding:a.spacing(2,4,3),borderRadius:"10px","&:focus":{border:"1px solid rgba(0, 0, 0, 0.015)"}}},children:[Object(h.jsxs)(U.a,{container:!0,sx:a.search,style:{margin:"0px auto"},children:[Object(h.jsx)(U.a,{item:!0,xs:10,children:Object(h.jsx)(E.c,{placeholder:" Search\u2026",sx:{paddingTop:"4px",paddingLeft:"16px"},inputProps:{"aria-label":"search"},onChange:function(e){return function(e){if(""!==e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}};g.a.post("http://localhost:8585/users-research",{pattern:e},t).then((function(e){r(e.data)}))}}(e.target.value)}})}),Object(h.jsx)(U.a,{item:!0,xs:2,sx:a.searchIcon,children:Object(h.jsx)(Y.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})})]}),Object(h.jsx)(S.a,{sx:{width:"100%"},children:c.user?c.user.map((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(m.b,{style:{textDecoration:"none"},to:e._id!==s._id?"/profile/".concat(e._id):"/profile",onClick:Z,children:[Object(h.jsx)(T.a,{variant:"inset",component:"li",style:{marginLeft:"0px"}}),Object(h.jsxs)(C.a,{alignItems:"flex-start",children:[Object(h.jsx)(P.a,{children:Object(h.jsx)(B.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"})}),Object(h.jsx)(I.a,{primary:e.Name,secondary:Object(h.jsx)(L.a,{children:e.Email})})]})]},e._id)})})):null})]}),je=Object(le.a)(G.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(U.a,{children:[Object(h.jsx)(N.a,{position:"fixed",enableColorOnDark:!0,sx:{background:d?"rgba(225, 228, 230, 1)":a.palette.common.white},children:Object(h.jsxs)(_.a,{sx:{justifyContent:"space-around"},children:[Object(h.jsx)(m.b,{to:s?"/":"/login",style:{textDecoration:"none"},children:Object(h.jsx)(L.a,{sx:a.title,variant:"h4",noWrap:!0,children:"TopGram"})}),Object(h.jsx)(U.a,{sx:{flexGrow:1}}),Object(h.jsx)(U.a,{sx:a.sectionDesktop,children:Object(h.jsxs)(W.a,{sx:{background:"transparent"},children:[Object(h.jsx)(D.a,{label:"Search",value:"search",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:X,style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(h.jsx)(Y.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)(D.a,{label:"Home",value:"home",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:function(){return t("/")},style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(h.jsx)(ee.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)(D.a,{label:"Explore",value:"explore",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:function(){return t("/explore")},style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(h.jsx)(Q.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)(D.a,{label:"Add Post",value:"add post",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:function(){return t("/create")},style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(h.jsx)($.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)(D.a,{label:"Messages",value:"messages",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:function(){return t("/messages")},style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(h.jsx)(R.a,{badgeContent:4,color:"primary",style:{color:"rgba(0, 0, 0, 0.54)"},children:Object(h.jsx)(ae.a,{})})}),Object(h.jsx)(D.a,{label:"Notifications",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},style:{color:"rgba(0, 0, 0, 0.54)"},value:"notification",icon:Object(h.jsx)(R.a,{badgeContent:6,color:"primary",children:Object(h.jsx)(ie.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})})}),Object(h.jsx)(D.a,{label:"Profile",value:"profile",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:function(){return t("/profile")},style:{color:"rgba(0, 0, 0, 0.54)"},icon:Object(h.jsx)(ce.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)(D.a,{label:"Logout",style:{color:"rgba(0, 0, 0, 0.54)"},value:"logout",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:ne,icon:Object(h.jsx)(se.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})}),Object(h.jsx)(D.a,{label:"color-modes",style:{paddingTop:"27px"},value:"color-modes",component:f.motion.button,whileHover:{scale:1.2},whileTap:{scale:.8},onClick:function(){return b()},icon:Object(h.jsx)(je,{sx:{m:1},checked:d})})]})}),Object(h.jsx)(U.a,{sx:a.sectionMobile,children:Object(h.jsx)(F.a,{"aria-label":"show more","aria-controls":oe,"aria-haspopup":"true",onClick:function(e){v(e.currentTarget)},color:"inherit",size:"large",children:Object(h.jsx)(J.a,{style:{color:"rgba(0, 0, 0, 0.54)"}})})})]})}),re]}),Object(h.jsx)(A.a,{open:V,onClose:Z,children:de})]})},je=function(){return{authorization:"Bearer "+localStorage.getItem("jwt")}},be=function(e){var t=e.method,a=e.endpoint,n=e.headers,i=e.params,o=e.data;e.setCookie;return new Promise((function(e,c){g()({method:t,url:a,headers:n,params:i,data:o,withCredentials:!0}).then((function(t){t.data&&!t.data.error?e(t.data):(t.status>=500&&t.status<=599&&c("Something went wrong."),t.data.error&&c(t.data.error||"Request Failed"))})).catch((function(e){e.status>=500&&e.status<=599&&c("Something went wrong.");var t=e&&e.response||{};401===t.status?(localStorage.clear(),sessionStorage.clear(),window.location.reload(),c(t.statusText||t||"Failed Request")):c("Failed Request")}))}))},ue=function(e){var t=e.method,a=e.endpoint,n=e.headers,i=e.params,o=e.data;e.setCookie;return new Promise((function(e,c){g()({method:t,url:a,headers:n,params:i,data:o,withCredentials:!0}).then((function(t){t.data&&!t.data.error?e(t.data):(t.status>=500&&t.status<=599&&c("Something went wrong."),t.data.error&&c(t.data.error||"Request Failed"))})).catch((function(e){e.status>=500&&e.status<=599&&c("Something went wrong.");var t=e&&e.response||{};401===t.status?(localStorage.clear(),sessionStorage.clear(),window.location.reload(),c(t.statusText||t||"Failed Request")):c("Failed Request")}))}))},he=function(e){return ue({endpoint:"http://localhost:8585/allpost",method:"GET",params:e,headers:je()})},xe=function(e){return ue({endpoint:"http://localhost:8585/like",method:"PUT",data:e,headers:je()})},pe=function(e){return ue({endpoint:"http://localhost:8585/Unlike",method:"PUT",data:e,headers:je()})},me=function(e){return ue({endpoint:"http://localhost:8585/comment",method:"PUT",data:e,headers:je()})},Oe=a(65),ge=a(393),fe=a(394),ve=a(395),ye=a(397),we=a(396),ke=a(365),Se=a(123),Ce=a.n(Se),Te=a(124),Ie=a.n(Te),Pe=a(125),Be=a.n(Pe),Ne=a(127),_e=a.n(Ne),Fe=a(126),Le=a.n(Fe),Ee=a(192),Re=a.n(Ee),ze=a(193),Me=a.n(ze),We=a(18),De=a(25),Ae=a(63),Ue=Object(Ae.b)("fetchMyBookmarksAction",Object(De.a)(Object(We.a)().mark((function e(){var t;return Object(We.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue({endpoint:"http://localhost:8585/bookmarks",method:"GET",params:void 0,headers:je()});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Ge=Object(Ae.c)({name:"fetchMyBookmarksInfo",initialState:{isLoading:!1,data:null,isError:!1},extraReducers:function(e){e.addCase(Ue.pending,(function(e,t){e.isLoading=!0})),e.addCase(Ue.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload})),e.addCase(Ue.rejected,(function(e,t){e.isError=!0}))}}).reducer,He=function(){var e,t=Object(H.a)(),a=Object(p.l)(),n=Object(Oe.b)(),c=JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user")),r=Object(i.useState)([]),s=Object(j.a)(r,2),l=s[0],d=s[1],b=Object(i.useState)(!1),u=Object(j.a)(b,2),x=u[0],m=u[1],O=Object(i.useState)(""),g=Object(j.a)(O,2),f=g[0],v=g[1];Object(i.useEffect)((function(){he().then((function(e){d(e.posts)}))}),[]);var y=function(e){var t;(t={postId:e},be({endpoint:"http://localhost:8585/bookmark-post",method:"PUT",data:t,headers:je()})).then((function(e){n(Ue()),localStorage.setItem("user",JSON.stringify(e)),he().then((function(e){d(e.posts)}))})).catch((function(e){return console.log(e)}))},w=function(e){var t;(t={postId:e},ue({endpoint:"http://localhost:8585/remove-bookmark",method:"PUT",data:t,headers:je()})).then((function(e){n(Ue()),localStorage.setItem("user",JSON.stringify(e)),he().then((function(e){d(e.posts)}))})).catch((function(e){return console.log(e)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(de,{}),Object(h.jsx)("div",{style:{paddingTop:"52px"},children:l.map((function(e){var n;return Object(h.jsx)("div",{className:"home",children:Object(h.jsxs)(ge.a,{sx:t.homePageRoot,children:[Object(h.jsx)(fe.a,{sx:{padding:"10px"},avatar:Object(h.jsx)(B.a,{children:Object(h.jsx)("img",{sx:{height:"40px"},alt:"",src:"data:".concat(e.PhotoType,";base64,").concat(e.Photo)})}),title:Object(h.jsx)(L.a,{sx:{cursor:"pointer"},onClick:function(){e.PostedBy._id!==c._id?a("/profile/".concat(e.PostedBy._id)):a("/profile")},children:e.PostedBy.Name}),subheader:new Date(null===e||void 0===e?void 0:e.CreatedAt).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})}),Object(h.jsx)(ve.a,{sx:{paddingTop:"56.25%",height:"max-content"},image:"data:".concat(e.PhotoType,";base64,").concat(e.Photo),title:"Paella dish"}),Object(h.jsxs)(we.a,{sx:t.likeBar,disableSpacing:!0,children:[e.Likes.includes(null===c||void 0===c?void 0:c._id)?Object(h.jsx)(F.a,{"aria-label":"Like",color:"secondary",onClick:function(){var t;t=e._id,pe({postId:t}).then((function(e){var t=l.map((function(t){return e._id===t._id?e:t}));d(t)})).catch((function(e){return console.log(e)}))},size:"large",children:Object(h.jsx)(Ce.a,{})}):Object(h.jsx)(F.a,{"aria-label":"Like",onClick:function(){var t;t=e._id,xe({postId:t}).then((function(e){var t=l.map((function(t){return e._id===t._id?e:t}));d(t)})).catch((function(e){return console.log(e)}))},size:"large",children:Object(h.jsx)(Ie.a,{})}),Object(h.jsx)(F.a,{"aria-label":"comments",size:"large",children:Object(h.jsx)(Be.a,{})}),null!==c&&void 0!==c&&null!==(n=c.Bookmarks)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e._id)?Object(h.jsx)(F.a,{"aria-label":"Remove Bookmark",style:{marginLeft:"auto",color:"#e0d011"},onClick:function(){w(e._id)},size:"large",children:Object(h.jsx)(Re.a,{})}):Object(h.jsx)(F.a,{"aria-label":"Bookmark",style:{marginLeft:"auto"},onClick:function(){y(e._id)},size:"large",children:Object(h.jsx)(Me.a,{})})]}),Object(h.jsxs)(ye.a,{children:[Object(h.jsxs)(L.a,{variant:"subtitle2",display:"block",gutterBottom:!0,children:[e.Likes.length," Likes"]}),Object(h.jsx)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:e.Body})]}),Object(h.jsx)(T.a,{variant:"middle"}),Object(h.jsxs)(S.a,{children:[e.Comments.map((function(e){return Object(h.jsx)(C.a,{sx:{cursor:"pointer"},alignItems:"flex-start",children:Object(h.jsx)(I.a,{secondary:Object(h.jsxs)(o.a.Fragment,{children:[Object(h.jsx)(L.a,{component:"span",variant:"body2",sx:{display:"inline",fontWeight:"600"},color:"textPrimary",onClick:function(){e.PostedBy._id!==c._id?a("/profile/".concat(e.PostedBy._id)):a("/profile")},children:e.PostedBy.Name})," \u2014 ",e.Text]})})},e._id)})),0===e.Comments.length?Object(h.jsx)(C.a,{alignItems:"flex-start",style:{left:"38%"},children:Object(h.jsx)(L.a,{variant:"caption",display:"block",gutterBottom:!0,children:"No Comments yet"})}):null,e.Comments.length>3&&0!==e.Comments.length?Object(h.jsxs)(C.a,{alignItems:"flex-start",sx:{width:"35%",cursor:"pointer"},children:[Object(h.jsxs)(L.a,{variant:"caption",display:"block",gutterBottom:!0,children:["See all ",e.Comments.length," comments"]}),Object(h.jsx)(Le.a,{sx:{height:"17px",width:"17px",paddingTop:"4px",paddingBottom:"3px"}})]}):null]}),Object(h.jsx)(T.a,{variant:"middle"}),Object(h.jsxs)(ye.a,{sx:t.comments,children:[Object(h.jsx)(B.a,{children:Object(h.jsx)("img",{sx:{height:"40px"},alt:"",src:"https://images.unsplash.com/photo-1537815749002-de6a533c64db?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60"})}),Object(h.jsx)(ke.a,{multiline:!0,rows:1,placeholder:"Add your comment...",variant:"outlined",value:f,onChange:function(e){e.preventDefault(),v(e.target.value),m(!0),""===e.target.value&&m(!1)}}),Object(h.jsx)(F.a,{"aria-label":"add to favorites",sx:{height:"17px",width:"17px",paddingTop:"4px",paddingBottom:"3px"},disabled:!x,onClick:function(){return t=f,a=e._id,v(""),me({text:t,postId:a}).then((function(e){var t=l.map((function(t){return e.data._id===t._id?e:t}));d(t)})).catch((function(e){return console.log(e)})),void v("");var t,a},size:"large",children:Object(h.jsx)(_e.a,{})})]})]})},e._id)}))})]})},qe=function(){return Object(h.jsxs)(L.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(h.jsx)(m.b,{to:"/",children:"TopGram"})," ",(new Date).getFullYear(),"."]})},Je=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Ve=a(383),Ye=a(398),Ke=a(382),Qe=a(369),Xe=a(37),$e=function(){var e=Object(Xe.a)(),t=Object(p.l)(),a=Object(i.useState)(""),n=Object(j.a)(a,2),o=n[0],c=n[1],r=Object(i.useState)(""),s=Object(j.a)(r,2),l=s[0],b=s[1],u=Object(i.useState)(!1),x=Object(j.a)(u,2),O=x[0],g=x[1],v=Object(i.useState)(!1),y=Object(j.a)(v,2),w=y[0],k=y[1],S=function(e){switch(e.target.name){case"email":c(e.target.value);break;case"password":b(e.target.value)}};return Object(h.jsxs)(U.a,{container:!0,component:f.motion.div,initial:"hidden",animate:"visible",exit:{opacity:0,transition:{duration:.5}},children:[Object(h.jsx)(U.a,{sx:e.imageStyle,item:!0,sm:4,md:6}),Object(h.jsx)(U.a,{item:!0,xs:12,sm:8,md:6,children:Object(h.jsxs)(Ke.a,{component:"main",maxWidth:"xs",children:[Object(h.jsx)(d.a,{}),Object(h.jsxs)(U.a,{sx:e.paper,children:[Object(h.jsx)(L.a,{variant:"h2",gutterBottom:!0,children:"TopGram"}),O?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"Invalid Email format \u2014 check it out!"}):null,w?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"Invalid given Email/Password \u2014 check it out!"}):null,Object(h.jsxs)("form",{sx:e.form,noValidate:!0,children:[Object(h.jsx)(ke.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoFocus:!0,value:o,onChange:S}),Object(h.jsx)(ke.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password",value:l,onChange:S}),Object(h.jsx)(Ve.a,{fullWidth:!0,variant:""!==o&&""!==l?"contained":"outlined",color:"primary",sx:e.submit,disabled:""===o||""===l,onClick:function(){var e;Je.test(o)?(e={password:l,email:o},ue({endpoint:"http://localhost:8585/signin",method:"POST",data:e,setCookie:!0})).then((function(e){localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("jwt",function(e){for(var t=document.cookie.split(";"),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0].trim()===e.trim()&&n[1])return n[1]}}("token")),t("/")})).catch((function(e){console.log(e)})):(k(!1),g(!0))},children:"Sign In"}),Object(h.jsxs)(U.a,{container:!0,children:[Object(h.jsx)(U.a,{item:!0,xs:!0,children:Object(h.jsx)(m.b,{to:"/reset",style:{textDecoration:"none"},children:"Forgot password?"})}),Object(h.jsx)(U.a,{item:!0,children:Object(h.jsx)(m.b,{to:"/signup",style:{textDecoration:"none"},children:"Don't have an account? Sign Up"})})]})]})]}),Object(h.jsx)(Ye.a,{mt:8,children:Object(h.jsx)(qe,{})})]})})]})},Ze=function(){var e=Object(p.l)(),t=Object(H.a)(),a=Object(i.useState)(""),n=Object(j.a)(a,2),o=n[0],c=n[1],r=Object(i.useState)(""),s=Object(j.a)(r,2),l=s[0],b=s[1],u=Object(i.useState)(""),x=Object(j.a)(u,2),O=x[0],g=x[1],v=Object(i.useState)(!1),y=Object(j.a)(v,2),w=y[0],k=y[1],S=Object(i.useState)(!1),C=Object(j.a)(S,2),T=C[0],I=C[1],P=Object(i.useState)(!1),B=Object(j.a)(P,2),N=B[0],_=B[1],F=Object(i.useRef)();Object(i.useEffect)((function(){return function(){clearTimeout(F.current)}}),[]);var E=function(e){switch(e.target.name){case"username":c(e.target.value);break;case"email":g(e.target.value);break;case"password":b(e.target.value)}};return Object(h.jsxs)(Ke.a,{maxWidth:"xs",component:f.motion.div,initial:"hidden",animate:"visible",exit:{opacity:0,transition:{duration:.5}},children:[Object(h.jsxs)(U.a,{sx:t.paper,children:[Object(h.jsx)(d.a,{}),Object(h.jsx)(L.a,{sx:t.Logo,variant:"h2",children:"TopGram"}),w?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"Invalid Email format \u2014 check it out!"}):null,T?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"This Email is already token \u2014 check it out!"}):null,N?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"success",children:"Your account has been created successfully \u2014 check it out!"}):null,Object(h.jsxs)("form",{sx:t.form,noValidate:!0,children:[Object(h.jsxs)(U.a,{container:!0,spacing:2,children:[Object(h.jsx)(U.a,{item:!0,xs:12,children:Object(h.jsx)(ke.a,{autoComplete:"UserName",name:"username",variant:"outlined",required:!0,fullWidth:!0,label:"User Name",autoFocus:!0,value:o,onChange:E})}),Object(h.jsx)(U.a,{item:!0,xs:12,children:Object(h.jsx)(ke.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",value:O,onChange:E})}),Object(h.jsx)(U.a,{item:!0,xs:12,children:Object(h.jsx)(ke.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password",value:l,onChange:E})})]}),Object(h.jsx)(Ve.a,{fullWidth:!0,color:"primary",sx:t.submit,variant:""!==O&&""!==l?"contained":"outlined",disabled:""===O||""===l,onClick:function(){var t;Je.test(O)?(t={name:o,password:l,email:O},ue({endpoint:"http://localhost:8585/signup",method:"POST",data:t})).then((function(t){t.data.error?(k(!1),I(!0)):(_(!0),F.current=setTimeout((function(){e("/login")}),2800))})).catch((function(e){console.log(e)})):(I(!1),k(!0))},children:"Sign Up"}),Object(h.jsx)(U.a,{container:!0,justifyContent:"flex-end",children:Object(h.jsx)(U.a,{item:!0,children:Object(h.jsx)(m.b,{to:"/login",style:{textDecoration:"none"},children:"Already have an account? Sign in"})})})]})]}),Object(h.jsx)(Ye.a,{mt:5,children:Object(h.jsx)(qe,{})})]})},et=a(374),tt=a(399),at=a(370),nt=a(375),it=a(378),ot=a(400),ct=a(353),rt=a(161),st=(a(268),a(194)),lt=a.n(st),dt=(a(269),a(195)),jt=a.n(dt),bt=a(196),ut=a.n(bt),ht=a(197),xt=a.n(ht),pt=a(198),mt=a.n(pt);Object(rt.registerPlugin)(lt.a,jt.a,ut.a,xt.a,mt.a);var Ot=function(){var e=Object(H.a)(),t=Object(p.l)(),a=Object(i.useState)([]),n=Object(j.a)(a,2),o=n[0],c=n[1],r=Object(i.useState)(""),s=Object(j.a)(r,2),l=s[0],d=s[1],b=Object(i.useState)(0),u=Object(j.a)(b,2),x=u[0],m=u[1],O=["Select you image","Tag a Friend","Submit the post"],g=Object(i.useState)("idle"),f=Object(j.a)(g,2),v=f[0],y=f[1],w=Object(i.useRef)();Object(i.useEffect)((function(){return function(){clearTimeout(w.current)}}),[]);var k=function(){var e,t=o[0].getFileEncodeBase64String(),a=o[0].fileType;(e={title:l,body:l,photoEncode:t,photoType:a},be({endpoint:"http://localhost:8585/createpost",method:"POST",data:e,headers:je()})).then((function(e){e&&y("success")})).catch((function(e){return console.log("Error in creating post:",e)}))},S=function(t){switch(t){case 0:return Object(h.jsxs)("div",{sx:e.filesContainer,children:[Object(h.jsx)(rt.FilePond,{labelIdle:'Drag & Drop your picture or <span class="filepond--label-action">Browse</span>',files:o,allowMultiple:!1,onupdatefiles:c,imageResizeTargetWidth:450,imageResizeTargetHeight:450,acceptedFileTypes:["image/jpeg","image/png","images/gif"],required:!0}),Object(h.jsx)(ke.a,{sx:{margin:"10px 0px"},id:"outlined-search",label:"Caption",type:"text",variant:"outlined",fullWidth:"true",multiline:"true",value:l,onChange:function(e){return d(e.target.value)}})]});case 1:return"This functionality isn't available for the moment";case 2:return;default:return"Unknown step"}},C=function(){m((function(e){return e+1}))},T=function(){m((function(e){return e-1}))},I=function(){C(),clearTimeout(w.current),"idle"===v?(y("progress"),w.current=setTimeout((function(){t("/")}),4e3)):y("idle"),k()};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(de,{}),Object(h.jsx)("div",{style:{width:"70%",margin:"40px auto",paddingTop:"20px"},children:Object(h.jsxs)(et.a,{component:it.a,elevation:3,activeStep:x,orientation:"vertical",children:[O.map((function(t,a){return Object(h.jsxs)(tt.a,{children:[Object(h.jsx)(at.a,{children:t}),Object(h.jsxs)(nt.a,{children:[Object(h.jsx)(L.a,{children:S(a)}),Object(h.jsx)("div",{sx:e.actionsContainer,children:Object(h.jsxs)("div",{children:[Object(h.jsx)(Ve.a,{disabled:0===x,onClick:T,sx:{marginTop:e.spacing(1),marginRight:e.spacing(1)},children:"Back"}),Object(h.jsx)(Ve.a,{disabled:0===o.length||""===l,variant:"contained",color:"primary",onClick:x===O.length-1?I:C,sx:{marginTop:e.spacing(1),marginRight:e.spacing(1)},children:x===O.length-1?"Submit":"Next"})]})})]})]},t)})),x===O.length&&Object(h.jsx)(it.a,{square:!0,elevation:0,sx:{padding:"6px 24px"},children:Object(h.jsx)("div",{sx:e.finishStyle,children:"success"===v?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"success",children:"Your post has been successfully submitted \u2014 check it out!"}):Object(h.jsx)(ct.a,{sx:e.finishStyle,in:"progress"===v,style:{transitionDelay:"progress"===v?"100ms":"0ms"},unmountOnExit:!0,children:Object(h.jsx)(ot.a,{})})})})]})})]})},gt=a(92),ft=a(285),vt=a(366),yt=a(401),wt=["children","value","index"],kt=function(e){var t=e.children,a=e.value,i=e.index,o=Object(gt.a)(e,wt);return Object(h.jsx)("div",Object(n.a)(Object(n.a)({style:{width:430},role:"tabpanel",hidden:a!==i,id:"vertical-tabpanel-".concat(i),"aria-labelledby":"vertical-tab-".concat(i)},o),{},{children:a===i&&Object(h.jsx)(Ye.a,{p:3,children:Object(h.jsx)(L.a,{children:t})})}))},St=function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}},Ct=Object(ft.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"100%"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},fieldContainer:{display:"flex",marginBottom:"10px"},fieldContainerUnderInfo:{display:"flex",marginBottom:"10px",marginTop:"10px"},fieldLabel:{margin:"auto 0px",marginRight:"10px",width:"25%",fontWeight:"bold"},fieldInput:{"& .MuiOutlinedInput-input":{padding:"10px 14px"}},textInfo:{color:"rgba(var(--f52,142,142,142),1)",marginBottom:"10px"}}}));function Tt(){var e=Ct(),t=o.a.useState(0),a=Object(j.a)(t,2),i=a[0],c=a[1];return Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsxs)(vt.a,{orientation:"vertical",variant:"scrollable",value:i,onChange:function(e,t){c(t)},"aria-label":"Vertical tabs example",className:e.tabs,children:[Object(h.jsx)(yt.a,Object(n.a)({label:"Edit Profile"},St(0))),Object(h.jsx)(yt.a,Object(n.a)({label:"Change Password"},St(1))),Object(h.jsx)(yt.a,Object(n.a)({label:"Apps and Websites"},St(2))),Object(h.jsx)(yt.a,Object(n.a)({label:"Email ans SMS"},St(3))),Object(h.jsx)(yt.a,Object(n.a)({label:"Push Notifications"},St(4))),Object(h.jsx)(yt.a,Object(n.a)({label:"Privacy and Security"},St(5))),Object(h.jsx)(yt.a,Object(n.a)({label:"Email From Insta-Clone"},St(6)))]}),Object(h.jsx)(kt,{value:i,index:0,style:{width:"100%"},children:Object(h.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(h.jsxs)("div",{className:e.fieldContainer,children:[Object(h.jsx)(L.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Name"}),Object(h.jsx)(ke.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(h.jsx)(L.a,{variant:"caption",className:e.textInfo,children:"Help people discover your account by using the name you're known by: either your full name, nickname, or business name."}),Object(h.jsxs)("div",{className:e.fieldContainerUnderInfo,children:[Object(h.jsx)(L.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Username"}),Object(h.jsx)(ke.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(h.jsxs)("div",{className:e.fieldContainer,children:[Object(h.jsx)(L.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Website"}),Object(h.jsx)(ke.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(h.jsxs)("div",{className:e.fieldContainer,children:[Object(h.jsx)(L.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Bio"}),Object(h.jsx)(ke.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(h.jsx)(L.a,{variant:"caption",className:e.textInfo,children:"Personal Information"}),Object(h.jsx)(T.a,{}),Object(h.jsx)(L.a,{variant:"caption",className:e.textInfo,children:"Provide your personal information, even if the account is used for a business, a pet or something else. This won't be a part of your public profile."}),Object(h.jsxs)("div",{className:e.fieldContainerUnderInfo,children:[Object(h.jsx)(L.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Email"}),Object(h.jsx)(ke.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(h.jsxs)("div",{className:e.fieldContainer,children:[Object(h.jsx)(L.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Phone Number"}),Object(h.jsx)(ke.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]}),Object(h.jsxs)("div",{className:e.fieldContainer,children:[Object(h.jsx)(L.a,{variant:"caption",gutterBottom:!0,className:e.fieldLabel,children:"Gender"}),Object(h.jsx)(ke.a,{id:"outlined-basic",variant:"outlined",className:e.fieldInput})]})]})}),Object(h.jsx)(kt,{value:i,index:1,children:"Implementation Coming Soon"}),Object(h.jsx)(kt,{value:i,index:2,children:"Implementation Coming Soon"}),Object(h.jsx)(kt,{value:i,index:3,children:"Implementation Coming Soon"}),Object(h.jsx)(kt,{value:i,index:4,children:"Implementation Coming Soon"}),Object(h.jsx)(kt,{value:i,index:5,children:"Implementation Coming Soon"}),Object(h.jsx)(kt,{value:i,index:6,children:"Implementation Coming Soon"})]})}var It=Object(Ae.b)("fetchMyPostsAction",Object(De.a)(Object(We.a)().mark((function e(){var t;return Object(We.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue({endpoint:"http://localhost:8585/mypost",method:"GET",params:void 0,headers:je()});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Pt=Object(Ae.c)({name:"fetchMyPostsInfo",initialState:{isLoading:!1,data:null,isError:!1},extraReducers:function(e){e.addCase(It.pending,(function(e,t){e.isLoading=!0})),e.addCase(It.fulfilled,(function(e,t){var a;e.isLoading=!1,e.data=null===(a=t.payload)||void 0===a?void 0:a.data})),e.addCase(It.rejected,(function(e,t){e.isError=!0}))}}).reducer,Bt=a(114),Nt=a(405),_t=a(406),Ft=a(407),Lt=a(408),Et=a(364),Rt=a(402),zt=a(403),Mt=a(363),Wt=a(404),Dt=a(202),At=a.n(Dt),Ut=a(201),Gt=a.n(Ut),Ht=a(200),qt=a.n(Ht),Jt=["children","value","index"],Vt=Object(Mt.a)(Rt.a)((function(e){return{root:{padding:"16px"}}})),Yt=Object(Mt.a)(zt.a)((function(e){return{root:{margin:"0px",padding:"2px"}}})),Kt=function(e){var t=e.children,a=e.value,i=e.index,o=Object(gt.a)(e,Jt);return Object(h.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==i},o),{},{children:a===i&&Object(h.jsx)(Ye.a,{p:3,children:t})}))},Qt=function(){var e,t,a=Object(H.a)(),n=Object(i.useState)([]),o=Object(j.a)(n,2),c=o[0],r=o[1],s=Object(Oe.b)(),l=Object(i.useState)([]),b=Object(j.a)(l,2),u=b[0],x=b[1],p=Object(i.useState)("Posts"),O=Object(j.a)(p,2),g=O[0],v=O[1],y=Object(Oe.c)((function(e){return e.myPosts})),w=Object(Oe.c)((function(e){return e.myBookmarks})),k=Object(i.useState)(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),S=Object(j.a)(k,2),C=S[0],T=S[1],I=Object(i.useState)(""),P=Object(j.a)(I,2),N=P[0],_=P[1],E=Object(f.motion)(Wt.a);Object(i.useEffect)((function(){var e;if(T(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user"))),null!==C&&void 0!==C&&C.Photo){var t=Bt.Buffer.from(null===C||void 0===C?void 0:C.Photo).toString("base64");_(t)}}),[null===(t=localStorage)||void 0===t?void 0:t.getItem("user")]);var R=function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(){var e=n.result.split(",")[1];t(e)},n.onerror=function(e){a(e)},n.readAsDataURL(e)}))},z=function(){var e=Object(De.a)(Object(We.a)().mark((function e(t){var a,n,i;return Object(We.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],i=null===a||void 0===a?void 0:a.type,R(a).then((function(e){var t;n=e,(t={email:null===C||void 0===C?void 0:C.Email,photoEncode:n,photoType:i},ue({endpoint:"http://localhost:8585/profile-pic",method:"PATCH",data:t})).then((function(e){e&&localStorage.setItem("user",JSON.stringify(e.data))})).catch((function(e){return console.log("Error in creating post:",e)}))})).catch((function(e){console.error("Error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){s(It()),s(Ue())}),[s]),Object(i.useEffect)((function(){var e;r(null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.posts)}),[y]),Object(i.useEffect)((function(){var e;x(null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.bookmark)}),[w]);var M=Object(i.useState)(!1),W=Object(j.a)(M,2),D=W[0],A=W[1],G=function(){A(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(de,{}),Object(h.jsx)(d.a,{}),Object(h.jsxs)(Ye.a,{component:"main",sx:{maxWidth:935,margin:"auto",padding:"100px 20px 0"},children:[Object(h.jsx)(Ye.a,{mb:"44px",children:Object(h.jsxs)(U.a,{container:!0,children:[Object(h.jsxs)(U.a,{item:!0,xs:4,sx:{margin:"auto"},display:"flex",flexDirection:"column",alignItems:"center",children:[Object(h.jsx)(B.a,{sx:{width:152,height:152,margin:"auto"},alt:null===C||void 0===C?void 0:C.Name,src:"data:image/gif;base64,".concat(N)}),Object(h.jsxs)("label",{htmlFor:"icon-button-file",style:{transform:"translate(0px, -12px)"},children:[Object(h.jsx)("input",{accept:"image/*",style:{display:"none"},id:"icon-button-file",type:"file",onChange:function(e){return z(e)}}),Object(h.jsx)(E,{component:qt.a,fontSize:"large",sx:{color:a.palette.primary.main,cursor:"pointer"},whileHover:{scale:1.2}})]})]}),Object(h.jsxs)(U.a,{item:!0,xs:8,children:[Object(h.jsx)(Ye.a,{clone:!0,mb:"20px",children:Object(h.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(h.jsx)(L.a,{variant:"h5",children:null===C||void 0===C?void 0:C.Name}),Object(h.jsx)(Ve.a,{sx:{marginLeft:20},variant:"outlined",onClick:function(){A(!0)},children:"Edit Profile"}),Object(h.jsx)(F.a,{component:m.b,to:"#",size:"large",children:Object(h.jsx)(Wt.a,{children:"settings"})})]})}),Object(h.jsx)(Ye.a,{mb:"20px",children:Object(h.jsxs)(U.a,{container:!0,spacing:4,children:[Object(h.jsx)(U.a,{item:!0,children:Object(h.jsxs)(L.a,{variant:"subtitle1",children:[Object(h.jsx)("b",{children:null===c||void 0===c?void 0:c.length})," posts"]})}),Object(h.jsx)(U.a,{item:!0,children:Object(h.jsxs)(L.a,{variant:"subtitle1",children:[Object(h.jsx)("b",{children:C?null===C||void 0===C?void 0:C.Followers.length:"IsLoading ..."})," ","followers"]})}),Object(h.jsx)(U.a,{item:!0,children:Object(h.jsxs)(L.a,{variant:"subtitle1",children:[Object(h.jsx)("b",{children:C?null===C||void 0===C?void 0:C.Following.length:"IsLoading ..."})," ","following"]})})]})}),Object(h.jsx)(L.a,{variant:"subtitle1",children:"Siriwat Kunaporn"}),Object(h.jsx)(L.a,{variant:"subtitle1",children:"Bangkok Christian College"}),Object(h.jsx)(L.a,{variant:"subtitle1",children:"CU intania 96."})]})]})}),Object(h.jsxs)(vt.a,{value:g,centered:!0,onChange:function(e,t){v(t)},TabIndicatorProps:{style:{transform:"translateY(-70px)",backgroundColor:"#262626"}},children:[Object(h.jsx)(yt.a,{label:"Posts",value:"Posts",icon:Object(h.jsx)(Wt.a,{children:"grid_on_outlined"})}),Object(h.jsx)(yt.a,{label:"IGTV",value:"IGTV",icon:Object(h.jsx)(Wt.a,{children:"live_tv"}),disabled:!0}),Object(h.jsx)(yt.a,{label:"Saved",value:"Saved",icon:Object(h.jsx)(Wt.a,{children:"bookmark_border_outlined"})}),Object(h.jsx)(yt.a,{label:"Tagged",value:"Tagged",icon:Object(h.jsx)(Wt.a,{children:"local_offer_outlined"}),disabled:!0})]}),Object(h.jsx)(Kt,{value:g,index:"Posts",children:Object(h.jsx)(U.a,{container:!0,spacing:2,children:null===c||void 0===c?void 0:c.map((function(e){return Object(h.jsx)(U.a,{item:!0,xs:4,sx:{width:"100%",height:"100%"},children:Object(h.jsx)("img",{width:"100%",height:"100%",alt:"post",src:"data:".concat(e.photoType,";base64,").concat(e.photo)})},e.id)}))})}),Object(h.jsx)(Kt,{value:g,index:"Saved",children:Object(h.jsx)(Nt.a,{cellHeight:230,cols:3,spacing:15,children:null===u||void 0===u?void 0:u.map((function(e){return Object(h.jsxs)(_t.a,{children:[Object(h.jsx)("img",{src:"data:".concat(e.PhotoType,";base64,").concat(e.Photo),alt:e.Title}),Object(h.jsx)(Ft.a,{title:e.Title,subtitle:Object(h.jsxs)("span",{children:["By : ",e.PostedBy.Name]}),actionIcon:Object(h.jsx)(F.a,{"aria-label":"info about",sx:{color:"rgba(255, 255, 255, 0.54)"},size:"large",children:Object(h.jsx)(Gt.a,{})})})]},e._id)}))})})]}),Object(h.jsxs)(Lt.a,{onClose:G,open:D,sx:a.dialogContainer,children:[Object(h.jsxs)(Et.a,{sx:{margin:"0px",padding:"16px"},children:[Object(h.jsx)(L.a,{variant:"h6",children:"Profile settings"}),Object(h.jsx)(F.a,{"aria-label":"close",sx:{position:"absolute",right:"8px",top:"8px",color:"#9e9e9e"},onClick:G,size:"large",children:Object(h.jsx)(At.a,{})})]}),Object(h.jsx)(Vt,{dividers:!0,children:Object(h.jsx)(Tt,{})}),Object(h.jsx)(Yt,{children:Object(h.jsx)(Ve.a,{autoFocus:!0,onClick:G,color:"primary",children:"Save changes"})})]})]})},Xt=a(17),$t=Object(Ae.c)({name:"followData",initialState:{Followers:[],Following:[]},reducers:{updateFollowData:function(e,t){e.Followers=t.payload.Followers,e.Following=t.payload.Following}}}),Zt=$t.actions.updateFollowData,ea=$t.reducer,ta=["children","value","index"];function aa(e){var t=e.children,a=e.value,i=e.index,o=Object(gt.a)(e,ta);return Object(h.jsx)("div",Object(n.a)(Object(n.a)({role:"tabpanel",hidden:a!==i},o),{},{children:a===i&&Object(h.jsx)(Ye.a,{p:3,children:t})}))}var na,ia=function(){var e,t=Object(i.useState)("Posts"),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(Oe.b)(),l=Object(p.n)().userid,b=Object(i.useState)(null),u=Object(j.a)(b,2),x=u[0],O=u[1],g=JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user")),f=Object(i.useState)(null===g||void 0===g?void 0:g.Following.includes(l)),v=Object(j.a)(f,2),y=v[0],w=v[1];Object(i.useEffect)((function(){var e;(e={userid:l},ue({endpoint:"http://localhost:8585/user/".concat(e.userid),method:"GET",headers:je()})).then((function(e){O(e)}))}),[l]);var k=function(){var e;(e={followId:l},ue({endpoint:"http://localhost:8585/follow",method:"PUT",data:e,headers:je()})).then((function(e){s(Zt({Followers:e.Followers,Following:e.Following})),localStorage.setItem("user",JSON.stringify(e)),O((function(t){return Object(n.a)(Object(n.a)({},t),{},{user:Object(n.a)(Object(n.a)({},t.user),{},{Followers:[].concat(Object(Xt.a)(t.user.Followers),[e._id])})})})),w(!0)}))},S=function(){var e;(e={unfollowId:l},ue({endpoint:"http://localhost:8585/unfollow",method:"PUT",data:e,headers:je()})).then((function(e){s(Zt({Followers:e.Followers,Following:e.Following})),localStorage.setItem("user",JSON.stringify(e)),O((function(t){var a=t.user.Followers.filter((function(t){return t!==e._id}));return Object(n.a)(Object(n.a)({},t),{},{user:Object(n.a)(Object(n.a)({},t.user),{},{Followers:a})})})),w(!1)}))};return Object(h.jsxs)(o.a.Fragment,{children:[Object(h.jsx)(de,{}),Object(h.jsx)(d.a,{}),x?Object(h.jsxs)(Ye.a,{component:"main",sx:{maxWidth:935,margin:"auto",padding:"100px 20px 0"},children:[Object(h.jsx)(Ye.a,{mb:"44px",children:Object(h.jsxs)(U.a,{container:!0,children:[Object(h.jsx)(U.a,{item:!0,xs:4,sx:{margin:"auto"},children:Object(h.jsx)(B.a,{sx:{width:152,height:152},style:{margin:"auto"},src:"https://cc-media-foxit.fichub.com/image/fox-it-mondofox/e8c0f288-781d-4d0b-98ad-fd169782b53b/scene-sottacqua-per-i-sequel-di-avatar-maxw-654.jpg"})}),Object(h.jsxs)(U.a,{item:!0,xs:8,children:[Object(h.jsx)(Ye.a,{clone:!0,mb:"20px",children:Object(h.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(h.jsx)(L.a,{variant:"h5",children:x.user?x.user.Name:"Is Loading ..."}),y?Object(h.jsx)(Ve.a,{sx:{marginLeft:20,backgroundColor:"paleturquoise"},variant:"outlined",onClick:function(){return S()},children:"UnFollow"}):Object(h.jsx)(Ve.a,{sx:{marginLeft:20,backgroundColor:"paleturquoise"},variant:"outlined",onClick:function(){return k()},children:"Follow"}),Object(h.jsx)("div",{children:Object(h.jsx)(F.a,{component:m.b,to:"#",size:"large",children:Object(h.jsx)(Wt.a,{children:"settings"})})})]})}),Object(h.jsx)(Ye.a,{mb:"20px",children:Object(h.jsxs)(U.a,{container:!0,spacing:4,children:[Object(h.jsx)(U.a,{item:!0,children:Object(h.jsxs)(L.a,{variant:"subtitle1",children:[Object(h.jsx)("b",{children:x.posts?x.posts.length:"IsLoading..."})," ","posts"]})}),Object(h.jsx)(U.a,{item:!0,children:Object(h.jsxs)(L.a,{variant:"subtitle1",children:[Object(h.jsx)("b",{children:x.user?x.user.Followers.length:"IsLoading..."})," ","followers"]})}),Object(h.jsx)(U.a,{item:!0,children:Object(h.jsxs)(L.a,{variant:"subtitle1",children:[Object(h.jsx)("b",{children:x.user?x.user.Following.length:"IsLoading..."})," ","following"]})})]})}),Object(h.jsx)(L.a,{variant:"subtitle1",children:"Siriwat Kunaporn"}),Object(h.jsx)(L.a,{variant:"subtitle1",children:"Bangkok Christian College"}),Object(h.jsx)(L.a,{variant:"subtitle1",children:"CU intania 96."})]})]})}),Object(h.jsxs)(vt.a,{value:c,centered:!0,onChange:function(e,t){r(t)},TabIndicatorProps:{style:{transform:"translateY(-70px)",backgroundColor:"#262626"}},children:[Object(h.jsx)(yt.a,{label:"Posts",value:"Posts",icon:Object(h.jsx)(Wt.a,{children:"grid_on_outlined"})}),Object(h.jsx)(yt.a,{label:"IGTV",value:"IGTV",icon:Object(h.jsx)(Wt.a,{children:"live_tv"}),disabled:!0}),Object(h.jsx)(yt.a,{label:"Tagged",value:"Tagged",icon:Object(h.jsx)(Wt.a,{children:"local_offer_outlined"}),disabled:!0})]}),Object(h.jsx)(aa,{value:c,index:"Posts",children:Object(h.jsx)(U.a,{container:!0,spacing:2,children:x.posts?x.posts.map((function(e){return Object(h.jsx)(U.a,{item:!0,xs:4,children:Object(h.jsx)("img",{alt:"post",style:{width:"100%",height:"100%"},src:"data:".concat(e.PhotoType,";base64,").concat(e.Photo)})},e.id)})):"Is Loading ..."})})]}):"Is Loading ..."]})},oa=Object(ft.a)((function(e){return{root:{maxWidth:500,margin:"20px auto","& .MuiTextField-root":{width:"100%"},"& .MuiOutlinedInput-multiline":{paddingTop:"8px",paddingBottom:"8px",marginTop:"5px",marginLeft:"5px",marginRight:"5px"},"& .MuiCardContent-root:last-child":{paddingBottom:"10px"},"& .MuiDivider-middle":{marginBottom:"4px"},"& .MuiListItem-root":{padding:"0px 16px"},"& .MuiCardContent-root":{paddingTop:"0px",paddingBottom:"5px"},"& .MuiIconButton-root:focus":{backgroundColor:"rgba(0, 0, 0, 0)"}},header:{padding:"10px"},media:{paddingTop:"56.25%",height:"max-content"},likeBar:{height:"25px",paddingTop:"0px",marginTop:"8px",marginLeft:"2px",paddingLeft:"0px",paddingBottom:"4px"},comments:{display:"flex",paddingTop:"0px",paddingLeft:"12px",paddingRight:"0px"},comment_item_see_more:{cursor:"pointer"},comments_icon_see_more:{height:"17px",width:"17px",paddingTop:"4px",paddingBottom:"3px"},comments_icon:{height:"30px",paddingLeft:"0px",paddingTop:"13px",paddingRight:"8px",paddingBottom:"0px"},inline:{display:"inline",fontWeight:"600"},avatar:{height:"40px"},links:{textDecoration:"none"}}})),ca=function(){var e,t=oa(),a=Object(p.l)(),n=JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user")),c=Object(i.useState)([]),r=Object(j.a)(c,2),s=r[0],l=r[1],d=Object(i.useState)(!1),b=Object(j.a)(d,2),u=b[0],x=b[1],m=Object(i.useState)(""),O=Object(j.a)(m,2),g=O[0],f=O[1];Object(i.useEffect)((function(){var e;ue({endpoint:"http://localhost:8585/subspost",method:"GET",params:e,headers:je()}).then((function(e){l(e.posts)}))}),[]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(de,{}),Object(h.jsx)("div",{style:{paddingTop:"52px"},children:s.map((function(e){return Object(h.jsx)("div",{className:"home",children:Object(h.jsxs)(ge.a,{className:t.root,children:[Object(h.jsx)(fe.a,{className:t.header,avatar:Object(h.jsx)(B.a,{children:Object(h.jsx)("img",{className:t.avatar,alt:"",src:"data:".concat(e.PhotoType,";base64,").concat(e.Photo)})}),title:Object(h.jsx)(L.a,{sx:{cursor:"pointer"},onClick:function(){e.PostedBy._id!==n._id?a("/profile/".concat(e.PostedBy._id)):a("/profile")},children:e.PostedBy.Name}),subheader:"September 14, 2016"}),Object(h.jsx)(ve.a,{className:t.media,image:"data:".concat(e.PhotoType,";base64,").concat(e.Photo),title:"Paella dish"}),Object(h.jsxs)(we.a,{className:t.likeBar,disableSpacing:!0,children:[e.Likes.includes(null===n||void 0===n?void 0:n._id)?Object(h.jsx)(F.a,{"aria-label":"Like",color:"secondary",onClick:function(){var t;t=e._id,pe({postId:t}).then((function(e){var t=s.map((function(t){return e._id===t._id?e:t}));l(t)})).catch((function(e){return console.log(e)}))},size:"large",children:Object(h.jsx)(Ce.a,{})}):Object(h.jsx)(F.a,{"aria-label":"Like",onClick:function(){var t;t=e._id,xe({postId:t}).then((function(e){var t=s.map((function(t){return e._id===t._id?e:t}));l(t)})).catch((function(e){return console.log(e)}))},size:"large",children:Object(h.jsx)(Ie.a,{})}),Object(h.jsx)(F.a,{"aria-label":"comments",size:"large",children:Object(h.jsx)(Be.a,{})})]}),Object(h.jsxs)(ye.a,{children:[Object(h.jsxs)(L.a,{variant:"subtitle2",display:"block",gutterBottom:!0,children:[e.Likes.length," Likes"]}),Object(h.jsx)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:e.Body})]}),Object(h.jsx)(T.a,{variant:"middle"}),Object(h.jsxs)(S.a,{children:[e.Comments.map((function(e){return Object(h.jsx)(C.a,{className:t.comment_item,alignItems:"flex-start",children:Object(h.jsx)(I.a,{secondary:Object(h.jsxs)(o.a.Fragment,{children:[Object(h.jsx)(L.a,{component:"span",variant:"body2",color:"textPrimary",sx:{cursor:"pointer"},onClick:function(){e.PostedBy._id!==n._id?a("/profile/".concat(e.PostedBy._id)):a("/profile")},children:e.PostedBy.Name})," \u2014 ",e.Text]})})},e._id)})),0===e.Comments.length?Object(h.jsx)(C.a,{alignItems:"flex-start",style:{left:"38%"},children:Object(h.jsx)(L.a,{variant:"caption",display:"block",gutterBottom:!0,children:"No Comments yet"})}):null,e.Comments.length>3&&0!==e.Comments.length?Object(h.jsxs)(C.a,{alignItems:"flex-start",className:t.comment_item_see_more,children:[Object(h.jsxs)(L.a,{variant:"caption",display:"block",gutterBottom:!0,children:["See all ",e.Comments.length," comments"]}),Object(h.jsx)(Le.a,{className:t.comments_icon_see_more})]}):null]}),Object(h.jsx)(T.a,{variant:"middle"}),Object(h.jsxs)(ye.a,{className:t.comments,children:[Object(h.jsx)(B.a,{children:Object(h.jsx)("img",{className:t.avatar,alt:"",src:"https://images.unsplash.com/photo-1537815749002-de6a533c64db?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60"})}),Object(h.jsx)(ke.a,{multiline:!0,rows:1,placeholder:"Add your comment...",variant:"outlined",value:g,onChange:function(e){e.preventDefault(),f(e.target.value),x(!0),""===e.target.value&&x(!1)}}),Object(h.jsx)(F.a,{"aria-label":"add to favorites",className:t.comments_icon,disabled:!u,onClick:function(){return t=g,a=e._id,f(""),void me({text:t,postId:a}).then((function(e){var t=s.map((function(t){return e._id===t._id?e:t}));l(t)})).catch((function(e){return console.log(e)}));var t,a},size:"large",children:Object(h.jsx)(_e.a,{})})]})]})},e._id)}))})]})},ra=function(){var e=Object(p.l)(),t=Object(Xe.a)(),a=Object(i.useState)(""),n=Object(j.a)(a,2),o=n[0],c=n[1],r=Object(i.useState)(!1),s=Object(j.a)(r,2),l=s[0],b=s[1],u=Object(i.useState)(!1),x=Object(j.a)(u,2),m=x[0],O=x[1],g=Object(i.useState)(!1),f=Object(j.a)(g,2),v=f[0],y=f[1],w=Object(i.useRef)();Object(i.useEffect)((function(){return function(){clearTimeout(w.current)}}),[]);return Object(h.jsxs)(U.a,{container:!0,sx:{height:"-webkit-fill-available"},children:[Object(h.jsx)(U.a,{sx:t.imageStyle,item:!0,sm:4,md:6}),Object(h.jsx)(U.a,{item:!0,xs:12,sm:8,md:6,sx:t.container,children:Object(h.jsxs)(Ke.a,{component:"main",maxWidth:"xs",style:{paddingBottom:"64px"},children:[Object(h.jsx)(d.a,{}),Object(h.jsxs)("div",{sx:t.paper,children:[Object(h.jsx)(L.a,{sx:t.Logo,variant:"h2",gutterBottom:!0,style:{fontFamily:"Grand Hotel, cursive "},children:"TopGram"}),l?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"Invalid Email format \u2014 check it out!"}):null,m?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"No User exists with that email \u2014 check it Again !"}):null,v?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"success",children:"The reset password link has been sent \u2014 check out your email inbox !"}):null,Object(h.jsxs)("form",{sx:t.form,noValidate:!0,children:[Object(h.jsx)(ke.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoFocus:!0,value:o,onChange:function(e){if("email"===e.target.name)c(e.target.value)}}),Object(h.jsx)(Ve.a,{fullWidth:!0,variant:"outlined",color:"primary",sx:t.submit,disabled:""===o,onClick:function(){var t;Je.test(o)?(t={email:o},ue({endpoint:"http://localhost:8585/reset-pwd",method:"POST",data:t})).then((function(t){var a=t.data;console.log(a),a.error?(b(!1),O(!0)):(b(!1),O(!1),y(!0),w.current=setTimeout((function(){e("/login")}),3e3))})).catch((function(e){console.log(e)})):(O(!1),b(!0))},children:"Reset your Password"})]})]}),Object(h.jsx)(Ye.a,{mt:8,children:Object(h.jsx)(qe,{})})]})})]})},sa=Object(ft.a)((function(e){return{root:{height:"-webkit-fill-available"},image:{backgroundSize:"cover",backgroundColor:"#fafafa",backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundPosition:"center"},container:{margin:" auto 0px"},Logo:{fontFamily:"Grand Hotel, cursive",margin:"40px 0px"},paper:{marginTop:"50px",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),la=function(){var e=sa(),t=Object(p.l)(),a=Object(p.n)().token,n=Object(i.useState)(""),o=Object(j.a)(n,2),c=o[0],r=o[1],s=Object(i.useState)(""),l=Object(j.a)(s,2),b=l[0],u=l[1],x=Object(i.useState)(!1),m=Object(j.a)(x,2),O=m[0],g=m[1],f=Object(i.useState)(!1),v=Object(j.a)(f,2),y=v[0],w=v[1],k=Object(i.useRef)();Object(i.useEffect)((function(){return function(){clearTimeout(k.current)}}),[]);return Object(h.jsxs)(U.a,{container:!0,className:e.root,children:[Object(h.jsx)(U.a,{className:e.image,item:!0,sm:4,md:6}),Object(h.jsx)(U.a,{item:!0,xs:12,sm:8,md:6,className:e.container,children:Object(h.jsxs)(Ke.a,{component:"main",maxWidth:"xs",style:{paddingBottom:"64px"},children:[Object(h.jsx)(d.a,{}),Object(h.jsxs)("div",{className:e.paper,children:[Object(h.jsx)(L.a,{className:e.Logo,variant:"h2",gutterBottom:!0,style:{fontFamily:"Grand Hotel, cursive "},children:"TopGram"}),""!==c&&""!==b&&c!==b?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"Confirm password doesn't match the password \u2014 check it out !"}):null,O?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"error",children:"Session expired ! Try Again with a new Request \u2014 check it Again !"}):null,y?Object(h.jsx)(Qe.a,{variant:"outlined",severity:"success",children:"Password Updated successfully \u2014 check it out !"}):null,Object(h.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(h.jsx)(ke.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",value:c,onChange:function(e){return r(e.target.value)}}),Object(h.jsx)(ke.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Confirm password",label:"Confirm Password",type:"password",value:b,onChange:function(e){return u(e.target.value)}}),Object(h.jsx)(Ve.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:""===c||""===b,onClick:function(){var e;(e={password:c,token:a},ue({endpoint:"/new-pwd",method:"POST",data:e,headers:je()})).then((function(e){e.data.error?(w(!1),g(!0)):(g(!1),w(!0),k.current=setTimeout((function(){t("/login")}),3e3))})).catch((function(e){console.log(e)}))},children:"Submit The New Password"})]})]}),Object(h.jsx)(Ye.a,{mt:8,children:Object(h.jsx)(qe,{})})]})})]})},da=a(3),ja=a(384),ba=Object(c.a)(),ua=Object(c.a)({typography:{h2:{fontFamily:"Grand Hotel, cursive"}},paper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:"20vh"},imageStyle:{backgroundSize:"cover",backgroundColor:"#fafafa",backgroundImage:"url(https://source.unsplash.com/random?social-media,people,social,instruments,singing,dancing,dogs,cats,nature,city,night-life,movies,anime,sports)",backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"100vh"},Logo:{fontFamily:"Grand Hotel, cursive",width:"fit-content",marginBottom:ba.spacing(3)},avatar:{margin:ba.spacing(1),backgroundColor:ba.palette.secondary.main},form:{width:"100%",marginTop:ba.spacing(3)},submit:{margin:ba.spacing(3,0,2)},container:{margin:" auto 0px"},search:(na={position:"relative",borderRadius:ba.shape.borderRadius,backgroundColor:"rgba(0, 0, 0, 0.075)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"},marginRight:ba.spacing(2),marginLeft:0,width:"100%"},Object(da.a)(na,ba.breakpoints.up("sm"),{marginLeft:ba.spacing(3),width:"auto"}),Object(da.a)(na,"margin","0px auto"),na),searchIcon:{padding:ba.spacing(0,2),height:"100%",marginTop:"10px",pointerEvents:"none",alignItems:"center",justifyContent:"center",color:"rgba(0, 0, 0, 0.54)"},title:{display:"block",fontFamily:"Grand Hotel, cursive",color:"rgba(0, 0, 0, 0.54)"},sectionDesktop:Object(da.a)({display:"none"},ba.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(da.a)({display:"flex"},ba.breakpoints.up("md"),{display:"none"}),modalStyle:{transform:"translate(50%, 50%)",border:"1px solid rgba(0, 0, 0, 0.015)"},inputRoot:{color:"inherit"},inputInput:{transition:ba.transitions.create("width"),width:"100%",color:"#000000"},filesContainer:{maxWidth:"500px",margin:"auto"},actionsContainer:{width:"30%",margin:"auto",marginBottom:ba.spacing(2)},finishStyle:{width:"fit-content",margin:"auto"},dialogContainer:{"& .MuiDialog-paperWidthSm":{width:"80%",maxWidth:"900px"}},homePageRoot:{maxWidth:500,margin:"20px auto","& .MuiTextField-root":{width:"100%"},"& .MuiOutlinedInput-multiline":{paddingTop:"8px",paddingBottom:"8px",marginTop:"5px",marginLeft:"5px",marginRight:"5px"},"& .MuiCardContent-root:last-child":{paddingBottom:"10px"},"& .MuiDivider-middle":{marginBottom:"4px"},"& .MuiListItem-root":{padding:"0px 16px"},"& .MuiCardContent-root":{paddingTop:"0px",paddingBottom:"5px"}},likeBar:{height:"25px",paddingTop:"0px",marginTop:"8px",marginLeft:"2px",paddingLeft:"0px",paddingBottom:"4px"},comments:{display:"flex",paddingTop:"0px",paddingLeft:"12px",paddingRight:"0px"}}),ha=Object(ja.a)(ua),xa={palette:{mode:"light"}},pa={palette:{mode:"dark"}},ma=function(e){var t=e.chats,a=Object(i.useState)([]),n=Object(j.a)(a,2),o=n[0],c=n[1];return Object(i.useEffect)((function(){var e;null!==t&&void 0!==t&&t.length&&(e={id:t.join()},ue({endpoint:"/users-data",method:"GET",params:e,headers:je()})).then((function(e){return c(null===e||void 0===e?void 0:e.data)}))}),[t]),o.map((function(e,t){return Object(h.jsxs)(U.a,{sx:{display:"flex",padding:"20px",cursor:"pointer",borderBottom:"1px solid #f6f6f6","&:hover":{backgroundColor:"#ebebeb"}},children:[Object(h.jsx)(B.a,{}),Object(h.jsxs)(U.a,{sx:{marginLeft:"15px"},children:[Object(h.jsx)(L.a,{variant:"h6",style:{fontSize:"1rem",fontWeight:900,marginBottom:"8px"},children:e.name}),Object(h.jsx)(L.a,{variant:"p",children:"This is the last message"})]})]},t)}))},Oa=(a.p,a(275),a(204)),ga=a.n(Oa),fa=a(205),va=a.n(fa),ya=a(206),wa=a.n(ya),ka=function(){return Object(h.jsxs)(U.a,{sx:{height:"100%"},children:[Object(h.jsxs)(U.a,{sx:{padding:"20px",display:"flex",alignItems:"center",borderBottom:"1px solid lightgray"},children:[Object(h.jsx)(B.a,{}),Object(h.jsx)(U.a,{sx:{flex:1,paddingLeft:"20px"},children:Object(h.jsx)(L.a,{variant:"h5",sx:{fontWeight:900},children:"Room Name"})}),Object(h.jsxs)(U.a,{children:[Object(h.jsx)(F.a,{children:Object(h.jsx)(Y.a,{})}),Object(h.jsx)(F.a,{children:Object(h.jsx)(ga.a,{})}),Object(h.jsx)(F.a,{children:Object(h.jsx)(J.a,{})})]})]}),Object(h.jsxs)(U.a,{sx:{flex:1,backgroundRepeat:"repeat",backgroundPosition:"center",padding:"30px",height:"76%"},children:[Object(h.jsxs)("p",{style:{position:"relative",fontSize:"16px",padding:"10px",width:"fit-content",borderRadius:"10px",backgroundColor:"rgba(239, 239, 239, 0.8)",marginBottom:"30px"},children:[Object(h.jsx)("span",{style:{position:"absolute",top:"-15px",fontWeight:800,fontSize:"xx-small"},children:"Sonny"}),"This is a message",Object(h.jsx)("span",{style:{marginLeft:"10px",fontSize:"xx-small"},children:(new Date).toUTCString()})]}),Object(h.jsxs)("p",{style:{position:"relative",fontSize:"16px",padding:"10px",width:"fit-content",borderRadius:"10px",backgroundColor:ha.palette.primary.light,marginLeft:"auto",marginBottom:"30px"},children:[Object(h.jsx)("span",{style:{position:"absolute",top:"-15px",fontWeight:800,fontSize:"xx-small"},children:"Sonny"}),"This is a message",Object(h.jsx)("span",{style:{marginLeft:"10px",fontSize:"xx-small"},children:(new Date).toUTCString()})]})]}),Object(h.jsxs)(U.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"60px",borderTop:"1px solid lightgray",background:"rgba(239, 239, 239, 0.9)"},children:[Object(h.jsx)(va.a,{style:{color:"gray",margin:"10px"}}),Object(h.jsxs)("form",{style:{flex:1,display:"flex"},children:[Object(h.jsx)("input",{placeholder:"Type a message",type:"text",style:{flex:1,display:"flex",borderRadius:"30px",padding:"10px",border:"none"}}),Object(h.jsx)("button",{type:"submit",style:{display:"none"},children:"Send a message"})]}),Object(h.jsx)(wa.a,{style:{color:"gray",margin:"10px"}})]})]})},Sa=function(){var e,t=JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("user")),a=Object(i.useState)([]),n=Object(j.a)(a,2),o=n[0],c=n[1];return Object(i.useEffect)((function(){!function(e){var t=new Set([].concat(Object(Xt.a)(null===e||void 0===e?void 0:e.Followers),Object(Xt.a)(null===e||void 0===e?void 0:e.Following))),a=Array.from(t);c(a)}(t)}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(de,{}),Object(h.jsxs)(U.a,{container:!0,sx:{height:"100vh",overflow:"auto",paddingTop:"70px"},children:[Object(h.jsxs)(U.a,{item:!0,xs:4,lg:3,children:[Object(h.jsx)(U.a,{sx:{display:"flex",alignItems:"center",backgroundColor:"#f6f6f6",height:"80px",padding:"10px"},children:Object(h.jsxs)(U.a,{sx:{display:"flex",alignItems:"center",backgroundColor:"white",width:"100%",height:"35px",borderRadius:"20px"},children:[Object(h.jsx)(Y.a,{style:{color:"gray",margin:"10px"}}),Object(h.jsx)("input",{placeholder:"Start or search new chat",type:"text",style:{width:"100%",outlineWidth:0,border:"none"}})]})}),Object(h.jsx)(U.a,{sx:{flex:1,backgroundColor:"white",overflow:"scroll"},children:Object(h.jsx)(ma,{chats:o})})]}),Object(h.jsx)(U.a,{item:!0,xs:8,lg:9,children:Object(h.jsx)(ka,{})})]})]})},Ca=function(){var e=Object(p.l)(),t=Object(p.j)(),a=localStorage.getItem("jwt");Object(i.useEffect)((function(){a||e("/login")}),[a,e]);var n=Object(p.p)([{path:"/signup",element:Object(h.jsx)(Ze,{})},{path:"/login",element:Object(h.jsx)($e,{})},{path:"/reset",element:Object(h.jsx)(ra,{})},{path:"/reset/:token",element:Object(h.jsx)(la,{})},{path:"/",element:Object(h.jsx)(ca,{})},{path:"/explore",element:Object(h.jsx)(He,{})},{path:"/create",element:Object(h.jsx)(Ot,{})},{path:"/profile",element:Object(h.jsx)(Qt,{})},{path:"/profile/:userid",element:Object(h.jsx)(ia,{})},{path:"/messages",element:Object(h.jsx)(Sa,{})}]);return n?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(f.AnimatePresence,{mode:"wait",children:o.a.cloneElement(n,{key:t.pathname})})}):null},Ta=(a(273),function(){return Object(h.jsx)(x,{children:Object(h.jsx)(Ca,{})})}),Ia=Object(Ae.a)({reducer:{myPosts:Pt,myBookmarks:Ge,followData:ea}}),Pa=function(){var e=k().darkMode,t=o.a.useMemo((function(){return Object(c.a)(Object(n.a)(Object(n.a)({},ha),e?pa:xa))}),[e]);return Object(h.jsxs)(r.a,{theme:t,children:[Object(h.jsx)(d.a,{}),Object(h.jsx)(Ta,{})]})};l.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(m.a,{children:Object(h.jsx)(Oe.a,{store:Ia,children:Object(h.jsx)(w,{children:Object(h.jsx)(Pa,{})})})})}))}},[[274,1,2]]]);
//# sourceMappingURL=main.739333d4.chunk.js.map